"use strict";(self.webpackChunkw3social_interface=self.webpackChunkw3social_interface||[]).push([[117],{6993:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(2863),s="http://114.55.67.80:8081/w3social";const i=function(){function e(){}return e.getTagList=function(){return r.Z.get(s+"/square/moment/getTagList")},e.getPublicPermission=function(e){return r.Z.get(s+"/did/pulishcheck",{params:e})},e.getQuestion=function(e){return r.Z.get(s+"/did/getQuestion",{params:e})},e.postQuestion=function(e){return r.Z.post(s+"/did/postquestion",e)},e.getMessage=function(e){return r.Z.post(s+"/did/frzsnews",e)},e.handleMessage=function(e){return r.Z.post(s+"/did/profrzsnews",e)},e.getDidInfo=function(e){return r.Z.post(s+"/did/info",e)},e.getFriends=function(e){return r.Z.post(s+"/did/friendslist",e)},e}()},3618:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(2863),s="http://114.55.67.80:8081/w3social";const i=function(){function e(){}return e.addMoment=function(e){return r.Z.post(s+"/square/moment/addMoment",e)},e.getMomentById=function(e){return r.Z.get(s+"/square/moment/getMomentById",{params:e})},e.getTagList=function(){return r.Z.get(s+"/square/moment/getTagList")},e.likeMoment=function(e){return r.Z.get(s+"/square/moment/like",{params:e})},e.unLikeMoment=function(e){return r.Z.get(s+"/square/moment/unLike",{params:e})},e.getMomentList=function(e){return r.Z.post(s+"/square/moment/getMoment",e)},e}()},4408:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(1527),s=n(3618),i=n(1023),a=n(959),o=n(5107);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const d=function(e){var t=(0,a.useState)(0),n=t[0],r=t[1],c=(0,a.useState)([]),d=c[0],u=c[1],x=(0,a.useState)(!1),f=x[0],m=x[1],p=(0,a.useState)(0),h=p[0],g=p[1],v=(0,o.useMutation)(s.Z.getMomentList,{onSuccess:function(e){var t=e.records,n=e.totalElements,r=l(d).concat(l(t));u(r),g(n),r.length<n&&m(!0)}});return(0,a.useEffect)((function(){v.mutate({page:n,userId:e,size:i.IV})}),[e,n]),{articleListMutation:v,total:h,hasNext:f,list:d,getItemHeight:function(e){return e===h-1?140:130},loadNextPage:function(){d.length<h&&r(n+1)}}};var u=n(9499),x=n(7626);const f=function(){var e=(0,x.s0)();return{handleToDetail:function(t){void 0===t&&(t=0),e("/needDetail?id="+t)}}};var m=n(3231),p=n(4875),h=n.n(p);const g=function(e){var t=e.title,n=e.content,s=e.userName,i=e.children,a=e.className,o=e.id,c=e.headSculpture,l=f().handleToDetail;return(0,r.jsxs)("div",{className:h()("flex flex-col justify-between p-[12px] mb-[12px] rounded-[8px]",a||"bg-white"),children:[(0,r.jsx)("h4",{className:"text-[12px] truncate mb-[28px]",onClick:function(){l(o)},children:t||n}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(m.Z,{src:c,className:"text-[20px] mr-[8px]",children:"H"}),(0,r.jsx)("span",{className:"text-[10px] text-[#363636]",children:s})]}),i&&i]})]})};const v=function(e){var t=e.userId,n=e.entryIsMy,s=void 0!==n&&n,i=d(t),a=i.articleListMutation,o=i.total,c=i.hasNext,l=i.list,x=i.getItemHeight,f=i.loadNextPage;return console.log("ArticleList",a),(null==a?void 0:a.isLoading)?(0,r.jsx)("div",{children:"正在加载..."}):o?(0,r.jsx)(u.Z,{hasNextPage:c,isNextPageLoading:null==a?void 0:a.isLoading,listData:l,loadNextPage:f,totalElements:o,getItemList:x,isShowBottomTip:!1,children:function(e){var t=l[e],n=t.id,i=(t.title,t.content),a=t.nickname,o=t.headSculpture;return(0,r.jsx)(g,{id:n,content:i,userName:a,headSculpture:o,className:s?"bg-faintGray":"detailInfoCardBg"},n)}}):(0,r.jsx)("div",{children:"暂无帖子..."})}},9418:(e,t,n)=>{n.d(t,{OK:()=>i.Z,q5:()=>a.ZP,tv:()=>c,x4:()=>o.Z});n(959);var r=n(9351),s=n(1471),i=n(656),a=n(3235),o=n(1638),c=(0,s.ZP)(r.Z)({"& .MuiTab-root":{color:"#666666"},"& .Mui-selected":{color:"black"},"& .MuiTabs-indicator":{"background-color":"black"}})},8164:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(1527),s=n(4875),i=n.n(s);const a=function(e){var t=e.labels,n=e.type,s=function(e){void 0===e&&(e="black");var t="text-[10px] rounded-full py-[2px] border-[1px] border-solid px-[8px] ml-[6px] first:ml-[0] flex justify-center items-center";return"grey"===e?i()(t,"text-"+e+" border-current"):"black"!==e?i()(t,"bg-"+e+" text-"+e+" border-current"):i()(t,"bg-black text-white border-black")};return(0,r.jsx)("div",{className:"flex items-center",children:null==t?void 0:t.map((function(e,t){return(0,r.jsx)("span",{className:s(n),children:e},e+t)}))})}},9499:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(1527),s=n(959),i=n(8389),a=n(2794),o=n(8370);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const l=function(e){var t=e.hasNextPage,n=e.isNextPageLoading,l=e.listData,d=e.loadNextPage,u=e.totalElements,x=e.children,f=e.getItemList,m=e.isShowBottomTip,p=void 0===m||m,h=(0,s.useMemo)((function(){return t?l.length+1:l.length}),[l,t]),g=n?function(){}:d,v=function(e){return!t||e<l.length};return(0,r.jsx)(o.Z,{children:function(e){var t=e.height,n=e.width;return(0,r.jsx)(i.Z,{isItemLoaded:v,itemCount:h,loadMoreItems:g,children:function(e){var s=e.onItemsRendered,i=e.ref;return(0,r.jsx)(a.S_,{className:"List",height:t,itemCount:l.length,width:n,itemSize:f,ref:i,onItemsRendered:s,initialScrollOffset:20,children:function(e){var t=e.index,n=e.style;return(0,r.jsx)("div",{style:c({},n),children:v(t)?(0,r.jsxs)(r.Fragment,{children:[x(t),t===u-1&&p&&(0,r.jsx)("div",{className:"text-center pt-[10px]",children:"到底了...."})]}):(0,r.jsx)("div",{children:"loading...."})})}})}})}})}},1023:(e,t,n)=>{n.d(t,{IV:()=>r,RU:()=>s});var r=10,s=86400},5670:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(959),s=n(7626),i=n(9347),a=n(5107),o=n(6993);const c=function(e){console.log(e);var t=(0,s.s0)(),n=(0,i.lr)()[0],c=(null==e?void 0:e.userId)||n.get("id")||0,l=(0,r.useState)("1"),d=l[0],u=l[1],x=(0,a.useQuery)(["getDidInfo",c],(function(){return o.Z.getDidInfo({id:c})}),{enabled:!!c});return{tabIndex:d,handleTabIndexChange:function(e,t){u(t),e.stopPropagation()},handleBack:function(){t(-1)},userData:x.data,isLoading:x.isLoading,id:c}}},3489:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(1527),s=n(6934),i=n(959),a=n(3231),o=n(8164);const c=function(e){var t=e.nickname,n=e.identity,s=e.img,i=e.tag;return(0,r.jsxs)("div",{className:"flex py-[24px] border-0 border-b-[1px] border-solid border-fSelect ",children:[(0,r.jsx)(a.Z,{src:s,className:"w-[70px] h-[70px] mr-[24px]",children:s}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex mb-1",children:(0,r.jsx)("span",{className:"text-black font-semibold text-[14px]",children:t})}),(0,r.jsx)("div",{className:"text-[10px] font-medium text-grey",children:n})]}),(0,r.jsx)(o.Z,{labels:i})]})]})};var l=n(5670),d=n(1976),u=n(3321);const x=function(e){var t=e.city,n=e.identity;return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(d.Z,{className:"text-fSelect mr-[8px]"}),t]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(u.Z,{className:"text-fSelect mr-[8px]"}),n]})]})};var f=n(9667);const m=function(e){var t=e.tags;return(0,r.jsxs)("div",{className:"flex items-center justify-between mt-[16px]",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(f.Z,{className:"text-fSelect mr-[8px]"}),"愿望清单"]}),(0,r.jsx)(o.Z,{labels:t,type:"grey"})]})};var p=n(2513);const h=n.p+"assets/10db98d8.png";const g=function(e){e.onArticle;var t=e.onUserName;return(0,r.jsx)("div",{className:"absolute bottom-[16px] left-0 right-0",children:(0,r.jsx)("div",{className:"flex justify-around mt-[16px] ",children:(0,r.jsx)(p.Z,{onClick:t,variant:"outlined",className:"rounded-full bg-black text-white",startIcon:(0,r.jsx)("img",{alt:"wechat",width:"24",height:"16",src:h}),children:"获取社交账号"})})})};var v=n(9418),b=n(6858);function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}const y=function(){var e,t,n,r,s=(e={open:!1,type:"WARNING",confirmText:"发送星愿邮件",cancelText:"我知道了",contentText:"对方暂未公布社交账户，可向对方发送星愿邮件添加好友",handleConfirm:function(){},handleCancel:function(){o(j({},a,{open:!1}))}},t=(0,i.useState)((function(){return(0,b.vV)("function"==typeof e?e():e,!0)})),n=t[0],r=t[1],[n,(0,i.useCallback)((function(e){r("function"==typeof e?(0,b.ZP)(n,e):(0,b.vV)(e))}),[n])]),a=s[0],o=s[1];return{modelProps:a,handleCheckArticle:function(){o(j({},a,{open:!0}))},handleGetUserInfo:function(){o(j({},a,{open:!0}))}}};var N=n(1028),Z=n(175),w=n(2495),k=n(1471);const I=n.p+"assets/02c4cfcc.png",S=n.p+"assets/679be0b6.png";var C=(0,k.ZP)(N.Z)({"& .MuiPaper-root":{"border-radius":"16px","min-width":"88vw"}});const L=function(e){var t=e.open,n=e.type,s=e.confirmText,i=e.cancelText,a=e.contentText,o=e.handleCancel,c=e.handleConfirm,l="text-black bg-white text-[10px] rounded-full py-[4px] px-[16px] border-[1px] border-solid border-black ml-[6px] flex justify-center align-center first:bg-black first:text-white";return(0,r.jsxs)(C,{open:t,onClose:o,children:[(0,r.jsxs)(w.Z,{children:[(0,r.jsx)("p",{className:"flex justify-center items-center h-[100px] box-border p-[6px]",children:"SUCCESS"===n?(0,r.jsx)("img",{src:S,alt:"Success"}):(0,r.jsx)("img",{src:I,alt:"Warning"})}),(0,r.jsx)("p",{className:"text-[14px] font-medium",children:a})]}),(0,r.jsxs)(Z.Z,{className:"flex justify-around pb-[16px]",children:[s&&(0,r.jsx)("span",{className:l,onClick:c,children:s}),(0,r.jsx)("span",{className:l,onClick:o,children:i})]})]})};var M=n(4408);function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}const T=function(e){var t=(0,l.Z)(e),n=t.tabIndex,i=t.handleTabIndexChange,a=t.handleBack,o=t.userData,d=void 0===o?{}:o,u=t.isLoading,f=t.id,p=y(),h=p.modelProps,b=p.handleCheckArticle,j=p.handleGetUserInfo;if(u)return null;var N=d.wishtag,Z=d.city,w=d.introduce,k=d.nickname,I=d.identity,S=d.head_sculpture,C=d.tag,T=d.did;return(0,r.jsxs)("div",{className:"p-[16px] pb-[60px] h-full box-border relative backgroundIndex1 rounded-[13px]",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[!(null==e?void 0:e.userId)&&(0,r.jsx)(s.Z,{onClick:function(){return a()}}),T&&(0,r.jsx)("span",{className:"flex justify-center items-center rounded-full px-[6px] py-[3px] text-[8px] color-fSelect bg-white",children:T})]}),(0,r.jsx)(c,{nickname:k,tag:C,identity:I,img:S}),(0,r.jsxs)(v.q5,{value:n,children:[(0,r.jsxs)(v.tv,{onChange:i,"aria-label":"lab API tabs example",children:[(0,r.jsx)(v.OK,{className:"pb-0 px-0 min-w-[40px]",label:"自我介绍",value:"1"}),(0,r.jsx)(v.OK,{className:"pb-0 px-0 min-w-[40px]",label:"帖子",value:"2"})]}),(0,r.jsx)(v.x4,{className:"h-[240px] p-0 my-[12px] overflow-hidden overscroll-contain overflow-y-auto",value:"1",children:(0,r.jsx)("div",{children:w})}),(0,r.jsx)(v.x4,{className:"h-[240px] p-0 my-[12px] overflow-hidden overscroll-contain overflow-y-auto",value:"2",children:(0,r.jsx)(M.Z,{userId:f})})]}),(0,r.jsx)(x,{city:Z,identity:I}),(0,r.jsx)(m,{tags:N}),(0,r.jsx)(g,{onArticle:b,onUserName:j}),(0,r.jsx)(L,P({},h))]})}}}]);