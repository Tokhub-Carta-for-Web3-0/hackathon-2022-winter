"use strict";(self.webpackChunkw3social_interface=self.webpackChunkw3social_interface||[]).push([[573],{1167:(n,e,t)=>{t.d(e,{O:()=>a});var i=t(9645),r=t(9753);function a(){return(0,r.ZP)(i.j)()}},573:(n,e,t)=>{t.r(e),t.d(e,{default:()=>Z});var i=t(1527),r=t(9810),a=t(1167),c=t(7948),l=t(959),s=t(8673);function o(n){var e=n.accounts,t=function(n,e){var t=(0,l.useState)(),i=t[0],r=t[1];return(0,l.useEffect)((function(){if(n&&(null==e?void 0:e.length)){var t=!1;return Promise.all(e.map((function(e){return n.getBalance(e)}))).then((function(n){t||r(n)})),function(){t=!0,r(void 0)}}}),[n,e]),i}(n.provider,e);return void 0===e?null:(0,i.jsxs)("div",{children:["Accounts:"," ",(0,i.jsx)("b",{children:0===e.length?"None":null==e?void 0:e.map((function(n,e){return(0,i.jsxs)("ul",{style:{margin:0,overflow:"hidden",textOverflow:"ellipsis"},children:[(null==t?void 0:t[e])?" (Ξ"+(0,s.dF)(t[e])+")":null,n]},n)}))})]})}var u=t(4134);const d=function(n){var e,t=n.chainId;if(void 0===t)return null;var r=t?null==(e=u.T_[t])?void 0:e.chainName:void 0;return r?(0,i.jsxs)("div",{children:["Chain:"," ",(0,i.jsxs)("b",{children:[r," (",(0,i.jsx)("span",{id:"js-test-chainid",children:t}),")"]})]}):(0,i.jsxs)("div",{children:["Chain Id: ",(0,i.jsx)("b",{id:"js-test-chainid2",children:t})]})};var h=t(3606),f=t(7006),v=t(9176),p=t(5179),x=t(2513);function m(n,e,t,i,r,a,c){try{var l=n[a](c),s=l.value}catch(n){return void t(n)}l.done?e(s):Promise.resolve(s).then(i,r)}function y(n){return function(){var e=this,t=arguments;return new Promise((function(i,r){var a=n.apply(e,t);function c(n){m(a,i,r,c,l,"next",n)}function l(n){m(a,i,r,c,l,"throw",n)}c(void 0)}))}}var b=function(n,e){var t,i,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,i=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=e.call(n,c)}catch(n){a=[6,n],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function g(n){var e,t=n.chainId,r=n.switchChain,a=n.chainIds;return(0,i.jsxs)(v.Z,{fullWidth:!0,children:[(0,i.jsx)(h.Z,{id:"demo-simple-select-label",children:"请选择链"}),(0,i.jsx)(p.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:""+t,label:"请选择链",onChange:function(n){null==r||r(Number(n.target.value))},children:a.map((function(n){var t;return(0,i.jsx)(f.Z,{value:n,children:null!=(e=null==(t=u.T_[n])?void 0:t.chainName)?e:n},n)}))})]})}function j(n){var e=n.connector,t=n.chainId,r=n.isActivating,a=n.error,c=n.isActive,s=Object.keys(u.T_).map((function(n){return Number(n)})),o=(0,l.useState)(t),d=o[0],h=o[1],f=(0,l.useCallback)(y((function(n){return b(this,(function(i){switch(i.label){case 0:return h(n),n===t||-1===n&&void 0!==t?[2]:[4,e.activate(-1===n?void 0:(0,u.RP)(n))];case 1:return i.sent(),[2]}}))})),[e,t]);return a?(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)(g,{chainId:d,switchChain:f,chainIds:s}),(0,i.jsx)(x.Z,{fullWidth:!0,className:"my-[10px]",variant:"contained",onClick:function(){return e.activate(-1===d?void 0:(0,u.RP)(d))},children:"Try Again?"})]}):c&&t?(0,i.jsxs)("div",{className:"px-[20px]",children:[(0,i.jsx)(g,{chainId:-1===d?-1:t,switchChain:f,chainIds:s}),(0,i.jsx)(x.Z,{fullWidth:!0,className:"my-[10px]",variant:"contained",onClick:function(){return null==e?void 0:e.deactivate()},children:"Disconnect"})]}):(0,i.jsxs)("div",{className:"px-[20px]",children:[(0,i.jsx)(g,{chainId:d,switchChain:r?function(){}:f,chainIds:s}),(0,i.jsx)(x.Z,{fullWidth:!0,id:"js-test-btn",variant:"contained",className:"my-[10px]",onClick:r?void 0:function(){return e.activate(-1===d?void 0:(0,u.RP)(d))},disabled:r,children:"Connect"})]})}var w=t(1259),k=t(4475);function C(n,e,t,i,r,a,c){try{var l=n[a](c),s=l.value}catch(n){return void t(n)}l.done?e(s):Promise.resolve(s).then(i,r)}function I(n){return function(){var e=this,t=arguments;return new Promise((function(i,r){var a=n.apply(e,t);function c(n){C(a,i,r,c,l,"next",n)}function l(n){C(a,i,r,c,l,"throw",n)}c(void 0)}))}}var N=function(n,e){var t,i,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,i=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=e.call(n,c)}catch(n){a=[6,n],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function A(){var n=(0,a.O)(),e=n.library,t=n.account,r=null==e?void 0:e.getSigner(),c=new k.CH("0xdEe7D41d9c9F6774C8E0c2e17ECD7e4ab21F8210",w,r),s=l.useState(!1),o=s[0],u=s[1],d=I((function(){var n;return N(this,(function(e){switch(e.label){case 0:return[4,c.mint("We3social",t)];case 1:return n=e.sent(),console.log("mint: ",n),[2]}}))})),h=I((function(){var n;return N(this,(function(e){switch(e.label){case 0:return u(!0),console.log("account: ",t),[4,c.DID(t)];case 1:return n=e.sent(),console.log("getInfo: ",n),u(!1),[2]}}))}));return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"py-[10px]",children:(0,i.jsx)(x.Z,{className:"py-[10px]",fullWidth:!0,disabled:o,variant:"contained",onClick:d,children:"调用合约"})}),(0,i.jsx)("div",{className:"py-[10px]",children:(0,i.jsx)(x.Z,{className:"py-[10px]",fullWidth:!0,disabled:o,variant:"contained",onClick:h,children:"获取合约数据"})})]})}A.whyDidYouRender=!0;const D=A;function S(n){var e,t=n.isActivating,r=n.error,a=n.isActive;return(0,i.jsx)("div",{className:"text-center",id:"web3-status-connected",children:r?(0,i.jsxs)(i.Fragment,{children:["🔴 ",null!=(e=r.name)?e:"Error",r.message?" "+r.message:null]}):t?(0,i.jsx)(i.Fragment,{children:"🟡 Connecting"}):a?(0,i.jsx)(i.Fragment,{children:"🟢 Connected"}):(0,i.jsx)(i.Fragment,{children:"⚪️ Disconnected"})})}function T(){console.log("🌺🌺组件被渲染🌺🌺");var n=(0,a.O)(),e=n.chainId,t=n.accounts,s=n.library,u=n.errMsg,h=n.isActive,f=n.isActivating;return(0,l.useEffect)((function(){r.O4.connectEagerly()}),[]),(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"p-[20px] text-center",children:"连接钱包"}),(0,i.jsx)(S,{isActivating:f,error:u,isActive:h}),(0,i.jsx)(d,{chainId:e}),(0,i.jsx)(o,{accounts:t,provider:s})]}),(0,i.jsx)(j,{connector:r.O4,chainId:e,isActivating:f,error:u,isActive:h}),(0,i.jsx)(D,{})]})}T.whyDidYouRender=!0;const Z=(0,l.memo)(T)},1259:n=>{n.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"methodString","type":"string"},{"internalType":"string","name":"puk","type":"string"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"DID","outputs":[{"internalType":"string","name":"methodString","type":"string"},{"internalType":"string","name":"puk","type":"string"}],"stateMutability":"view","type":"function"}]')}}]);